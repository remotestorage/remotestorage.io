<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN" "http://www.w3.org/TR/REC-html40/strict.dtd">

<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>SyncedMap</title><link rel="stylesheet" type="text/css" href="../../styles/main.css"><script language=JavaScript src="../../javascript/main.js"></script><script language=JavaScript src="../../javascript/prettify.js"></script><script language=JavaScript src="../../javascript/searchdata.js"></script></head><body class="ContentPage" onLoad="NDOnLoad();prettyPrint();"><script language=JavaScript><!--
if (browserType) {document.write("<div class=" + browserType + ">");if (browserVer) {document.write("<div class=" + browserVer + ">"); }}// --></script>

<!--  Generated by Natural Docs, version 1.51 -->
<!--  http://www.naturaldocs.org  -->

<!-- saved from url=(0026)http://www.naturaldocs.org -->




<div id=Content><div class="CClass"><div class=CTopic id=MainTopic><h1 class=CTitle><a name="SyncedMap"></a>SyncedMap</h1><div class=CBody><p>Holds an in-memory structure with potentially thousands of items.&nbsp; Relies on PrefixTree for storing this structure to remoteStorage.</p><!--START_ND_SUMMARY--><div class=Summary><div class=STitle>Summary</div><div class=SBorder><table border=0 cellspacing=0 cellpadding=0 class=STable><tr class="SMain"><td class=SEntry><a href="#SyncedMap" >SyncedMap</a></td><td class=SDescription>Holds an in-memory structure with potentially thousands of items. </td></tr><tr class="SGroup SIndent1"><td class=SEntry><a href="#SyncedMap.Functions" >Functions</a></td><td class=SDescription></td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#SyncedMap.get" id=link1 onMouseOver="ShowTip(event, 'tt1', 'link1')" onMouseOut="HideTip('tt1')">get</a></td><td class=SDescription>Retrieve one of the items from the in-memory store. </td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#SyncedMap.set" id=link2 onMouseOver="ShowTip(event, 'tt2', 'link2')" onMouseOut="HideTip('tt2')">set</a></td><td class=SDescription>Store an item into the in-memory store, under a key that identifies it uniquely.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#SyncedMap.remove" id=link3 onMouseOver="ShowTip(event, 'tt3', 'link3')" onMouseOut="HideTip('tt3')">remove</a></td><td class=SDescription>Remove an item from the in-memory store, from under a key that identifies it uniquely.</td></tr><tr class="SFunction SIndent2"><td class=SEntry><a href="#SyncedMap.getKeys" id=link4 onMouseOver="ShowTip(event, 'tt4', 'link4')" onMouseOut="HideTip('tt4')">getKeys</a></td><td class=SDescription>Returns the keys of all items currently loaded into the in-memory store.</td></tr><tr class="SFunction SIndent2 SMarked"><td class=SEntry><a href="#SyncedMap.load" id=link5 onMouseOver="ShowTip(event, 'tt5', 'link5')" onMouseOut="HideTip('tt5')">load</a></td><td class=SDescription>Load the data into memory after a page refresh. </td></tr></table></div></div><!--END_ND_SUMMARY--></div></div></div>

<div class="CGroup"><div class=CTopic><h3 class=CTitle><a name="SyncedMap.Functions"></a>Functions</h3></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="SyncedMap.get"></a>get</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>get: function(</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Retrieve one of the items from the in-memory store.&nbsp; Make sure to call load before calling this function.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>string, the identifier of the item to be retrieved.&nbsp; Should not contain slashes.</td></tr></table><h4 class=CHeading>Returns</h4><p>The current value of the item identified by &lt;key&gt;, or undefined if the item doesn&rsquo;t exist.&nbsp; Will also return undefined if the item was not loaded yet.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="SyncedMap.set"></a>set</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>set: function(</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Store an item into the in-memory store, under a key that identifies it uniquely.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>string, the identifier of the item to be retrieved.&nbsp; Should not contain slashes.</td></tr><tr><td class=CDLEntry>val</td><td class=CDLDescription>anything JSON-stringifiable (so objects and simple types are OK, but no ArrayBuffers and such).</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="SyncedMap.remove"></a>remove</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>remove: function(</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Remove an item from the in-memory store, from under a key that identifies it uniquely.</p><h4 class=CHeading>Parameters</h4><table border=0 cellspacing=0 cellpadding=0 class=CDescriptionList><tr><td class=CDLEntry>key</td><td class=CDLDescription>string, the identifier of the item to be removed.&nbsp; Should not contain slashes.</td></tr></table></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="SyncedMap.getKeys"></a>getKeys</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">getKeys: function()</td></tr></table></blockquote><p>Returns the keys of all items currently loaded into the in-memory store.</p><h4 class=CHeading>Returns</h4><p>An Array of String, each string being one item key.</p></div></div></div>

<div class="CFunction"><div class=CTopic><h3 class=CTitle><a name="SyncedMap.load"></a>load</h3><div class=CBody><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>load: function(</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote><p>Load the data into memory after a page refresh.&nbsp; When the user connects their storage, data will come in and will be loaded automatically.&nbsp; Also, data that was stored into the SyncedMap since the last page refresh will stay loaded automatically.&nbsp; The only situation where the memory is flushed and you need to call SyncedMap.load, is when the user refreshes the page, or closes and reopens the tab, closes and reopens the browser, or turns the device off and on again.</p><h4 class=CHeading>Returns</h4><p>A promise that fulfills when all items have been loaded from IndexedDB, through the BaseClient and the PrefixTree, into the SyncedMap (and therefore into memory).</p></div></div></div>

</div><!--Content-->


<div id=Footer><a href="http://www.naturaldocs.org">Generated by Natural Docs</a></div><!--Footer-->


<div id=Menu><div class=MEntry><div class=MFile><a href="../../files2/overview-txt.html">Overview</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent2')">Modules</a><div class=MGroupContent id=MGroupContent2><div class=MEntry><div class=MFile><a href="../apps-js.html">Apps</a></div></div><div class=MEntry><div class=MFile><a href="../bookmarks-js.html">Bookmarks</a></div></div><div class=MEntry><div class=MFile><a href="../contacts-js.html">Contacts</a></div></div><div class=MEntry><div class=MFile><a href="../documents-js.html">Documents</a></div></div><div class=MEntry><div class=MFile><a href="../email-credentials-js.html">Email Credentials</a></div></div><div class=MEntry><div class=MFile><a href="../facebook-credentials-js.html">Facebook</a></div></div><div class=MEntry><div class=MFile><a href="../irc-credentials-js.html">Irc</a></div></div><div class=MEntry><div class=MFile><a href="../messages-js.html">Messages</a></div></div><div class=MEntry><div class=MFile><a href="../pgp-js.html">PGP</a></div></div><div class=MEntry><div class=MFile><a href="../pictures-js.html">Pictures</a></div></div><div class=MEntry><div class=MFile><a href="../sockethub-credentials-js.html">Sockethub</a></div></div><div class=MEntry><div class=MFile><a href="../twitter-credentials-js.html">Twitter</a></div></div><div class=MEntry><div class=MGroup><a href="javascript:ToggleMenu('MGroupContent1')">Utils</a><div class=MGroupContent id=MGroupContent1><div class=MEntry><div class=MFile><a href="credentialsstore-js.html">CredentialsStore</a></div></div><div class=MEntry><div class=MFile><a href="prefixtree-js.html">PrefixTree</a></div></div><div class=MEntry><div class=MFile id=MSelected>SyncedMap</div></div><div class=MEntry><div class=MFile><a href="syncedvar-js.html">SyncedVar</a></div></div></div></div></div></div></div></div><div class=MEntry><div class=MIndex><a href="../../index/Schemas.html">List of schemas</a></div></div><div class=MEntry><div class=MIndex><a href="../../index/Exports.html">List of module functions</a></div></div><script type="text/javascript"><!--
var searchPanel = new SearchPanel("searchPanel", "HTML", "../../search");
--></script><div id=MSearchPanel class=MSearchPanelInactive><input type=text id=MSearchField value=Search onFocus="searchPanel.OnSearchFieldFocus(true)" onBlur="searchPanel.OnSearchFieldFocus(false)" onKeyUp="searchPanel.OnSearchFieldChange()"><select id=MSearchType onFocus="searchPanel.OnSearchTypeFocus(true)" onBlur="searchPanel.OnSearchTypeFocus(false)" onChange="searchPanel.OnSearchTypeChange()"><option value="Exports">Exports</option><option value="Schemas">Schemas</option></select></div></div><!--Menu-->



<!--START_ND_TOOLTIPS-->
<div class=CToolTip id="tt1"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>get: function(</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Retrieve one of the items from the in-memory store. </div></div><div class=CToolTip id="tt2"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>set: function(</td><td class="PParameter  prettyprint " nowrap>key,</td></tr><tr><td></td><td class="PParameter  prettyprint " nowrap>val</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Store an item into the in-memory store, under a key that identifies it uniquely.</div></div><div class=CToolTip id="tt3"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>remove: function(</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Remove an item from the in-memory store, from under a key that identifies it uniquely.</div></div><div class=CToolTip id="tt4"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td class="prettyprint">getKeys: function()</td></tr></table></blockquote>Returns the keys of all items currently loaded into the in-memory store.</div></div><div class=CToolTip id="tt5"><div class=CFunction><blockquote><table border=0 cellspacing=0 cellpadding=0 class="Prototype"><tr><td><table border=0 cellspacing=0 cellpadding=0><tr><td class="PBeforeParameters  prettyprint "nowrap>load: function(</td><td class="PParameter  prettyprint " nowrap>key</td><td class="PAfterParameters  prettyprint "nowrap>)</td></tr></table></td></tr></table></blockquote>Load the data into memory after a page refresh. </div></div><!--END_ND_TOOLTIPS-->




<div id=MSearchResultsWindow><iframe src="" frameborder=0 name=MSearchResults id=MSearchResults></iframe><a href="javascript:searchPanel.CloseResultsWindow()" id=MSearchResultsWindowClose>Close</a></div>


<script language=JavaScript><!--
if (browserType) {if (browserVer) {document.write("</div>"); }document.write("</div>");}// --></script></body></html>